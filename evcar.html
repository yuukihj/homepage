<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì •ë³´ í—ˆë¸Œ</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        .comparison-cards {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }


        .card {
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .card h2 {
            margin-top: 0;
            text-align: center;
            font-size: 1.5em;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .form-group input {
            width: calc(100% - 24px);
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
        }

        .result-box {
            padding: 15px;
            background-color: #e8f6f3;
            border-left: 5px solid #1abc9c;
            border-radius: 8px;
            text-align: center;
        }

        .result-box p {
            font-size: 1.2em;
            font-weight: 700;
            margin: 0;
        }

        .note {
            font-size: 0.9em;
            color: #95a5a6;
            text-align: center;
        }

        #ev-card {
            background-color: #f2f6ff;
            border: 2px solid #5d9cec;
        }

        #ice-card {
            background-color: #fff8f2;
            border: 2px solid #f99049;
        }

        #monthly-card {
            background-color: #fff8f2;
            border: 2px solid #f99049;
        }

        #comparison-card {
            grid-column: 1 / span 2;
            background-color: #e6f7ff;
            border: 2px solid #3498db;
            text-align: center;
        }

        #monthly-card {
            grid-column: 1 / span 2;
            background-color: #e6f7ff;
            border: 2px solid #3498db;
            text-align: center;
        }

        #comparison-card p {
            font-size: 1.4em;
            font-weight: 600;
            color: #2980b9;
        }
    </style>
</head>

<body>
    <script>
        fetch("../first.html")
            .then(response => response.text())
            .then(data => {
                document.body.insertAdjacentHTML('afterbegin', data);
            });
    </script>
    <main class="main-content">
        <div class="container">
            <h1>ğŸš— ì°¨ëŸ‰ ìœ ì§€ë¹„ ë¹„êµ ê³„ì‚°ê¸°</h1>
            <p class="note">ê° ì°¨ëŸ‰ì˜ ìœ ì§€ë¹„ìš©ì„ ê³„ì‚°í•˜ì—¬ ë¹„êµí•´ë³´ì„¸ìš”. ëª¨ë“  ê³„ì‚°ì€ kmë‹¹ ë¹„ìš©ì…ë‹ˆë‹¤.</p>

            <div class="comparison-cards">

                <div id="ev-card" class="card">
                    <h2>ğŸ”Œ ì „ê¸°ì°¨ ìœ ì§€ë¹„</h2>
                    <div class="form-group">
                        <label for="ev-charge-price">kWhë‹¹ ì¶©ì „ ê¸ˆì•¡ (ì›)</label>
                        <input type="number" id="ev-charge-price" value="300" placeholder="ì˜ˆ: 300">
                    </div>
                    <div class="form-group">
                        <label for="ev-efficiency">ì „ë¹„ (km/kWh)</label>
                        <input type="number" id="ev-efficiency" value="6" step="0.1" placeholder="ì˜ˆ: 6">
                    </div>
                    <div class="result-box">
                        <p><span id="ev-cost-per-km">50</span> ì›/km</p>
                    </div>
                </div>

                <div id="ice-card" class="card">
                    <h2>â›½ ë‚´ì—°ê¸°ê´€ ìœ ì§€ë¹„</h2>
                    <div class="form-group">
                        <label for="fuel-price">Lë‹¹ ì—°ë£Œ ê°€ê²© (ì›)</label>
                        <input type="number" id="fuel-price" value="1600" placeholder="ì˜ˆ: 1600">
                    </div>
                    <div class="form-group">
                        <label for="fuel-efficiency">ì—°ë¹„ (km/L)</label>
                        <input type="number" id="fuel-efficiency" value="10" step="0.1" placeholder="ì˜ˆ: 10">
                    </div>
                    <div class="result-box">
                        <p><span id="ice-cost-per-km">160</span> ì›/km</p>
                    </div>
                </div>

                <div id="comparison-card" class="card">
                    <h2>ğŸ“Š 100km ì£¼í–‰ ì‹œ ì ˆì•½ ê¸ˆì•¡</h2>
                    <p id="savings-message">ê° ê³„ì‚°ê¸° ê°’ì„ ì…ë ¥í•˜ë©´ ì ˆì•½ ê¸ˆì•¡ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</p>
                    <h2>ğŸ’° 10,000ì› ì¶©ì „/ì£¼ìœ  ì‹œ ë¹„êµ</h2>
                    <p id="distance-comparison">1ë§Œì› ê¸°ì¤€ ì£¼í–‰ ê°€ëŠ¥ ê±°ë¦¬: ê³„ì‚° ëŒ€ê¸°ì¤‘...</p>

                </div>

                <div id="monthly-card" class="card">
                    <h2>ğŸ—“ï¸ í•œ ë‹¬ ì£¼í–‰ ë¹„ìš© ë¹„êµ</h2>
                    <div class="form-group">
                        <label for="monthly-distance">í•œ ë‹¬ ì£¼í–‰ ê±°ë¦¬ (km)</label>
                        <input type="number" id="monthly-distance" value="1000" placeholder="ì˜ˆ: 1000">
                    </div>
                    <div class="result-box" style="margin-top: 20px;">
                        <p id="monthly-ev-cost">ì „ê¸°ì°¨: 0ì›</p>
                        <p id="monthly-ice-cost">ë‚´ì—°ê¸°ê´€ì°¨: 0ì›</p>
                        <p id="monthly-savings-message" style="font-size: 1.2em; font-weight: 700; color: #27ae60;"></p>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025. Hyunjae Lee</p>
            <p>All rights reserved</p>
        </div>
    </footer>
    <script>
        // ì „ê¸°ì°¨ ê³„ì‚°
        const evChargePriceInput = document.getElementById('ev-charge-price');
        const evEfficiencyInput = document.getElementById('ev-efficiency');
        const evCostPerKmSpan = document.getElementById('ev-cost-per-km');

        // ë‚´ì—°ê¸°ê´€ì°¨ ê³„ì‚°
        const fuelPriceInput = document.getElementById('fuel-price');
        const fuelEfficiencyInput = document.getElementById('fuel-efficiency');
        const iceCostPerKmSpan = document.getElementById('ice-cost-per-km');

        // ë¹„êµ ì¹´ë“œ (100km)
        const savingsMessage = document.getElementById('savings-message');

        // ì›”ë³„ ë¹„ìš© ì¹´ë“œ
        const monthlyDistanceInput = document.getElementById('monthly-distance');
        const monthlyEvCostMessage = document.getElementById('monthly-ev-cost');
        const monthlyIceCostMessage = document.getElementById('monthly-ice-cost');
        const monthlySavingsMessage = document.getElementById('monthly-savings-message');

        function updateComparison() {
            const evCostPerKm = parseFloat(evCostPerKmSpan.textContent) || 0;
            const iceCostPerKm = parseFloat(iceCostPerKmSpan.textContent) || 0;

            // ğŸ’° 1ë§Œì› ê¸°ì¤€ ì£¼í–‰ ê°€ëŠ¥ ê±°ë¦¬ ë¹„êµ
            const budget = 10000;
            if (evCostPerKm > 0 && iceCostPerKm > 0) {
                const evDistance = Math.floor(budget / evCostPerKm);
                const iceDistance = Math.floor(budget / iceCostPerKm);

                document.getElementById('distance-comparison').innerHTML =
                    `1ë§Œì›ìœ¼ë¡œ ì „ê¸°ì°¨ëŠ” <span style="color:#27ae60;font-weight:700;">${evDistance.toLocaleString()}km</span>, 
         ë‚´ì—°ê¸°ê´€ì°¨ëŠ” <span style="color:#c0392b;font-weight:700;">${iceDistance.toLocaleString()}km</span> ì£¼í–‰ ê°€ëŠ¥`;
            } else {
                document.getElementById('distance-comparison').textContent =
                    '1ë§Œì› ê¸°ì¤€ ì£¼í–‰ ê°€ëŠ¥ ê±°ë¦¬: ê³„ì‚° ëŒ€ê¸°ì¤‘...';
            }


            // 100km ì ˆì•½ ê¸ˆì•¡ ê³„ì‚°
            if (evCostPerKm > 0 && iceCostPerKm > 0) {
                const difference = iceCostPerKm - evCostPerKm;
                const savings100km = Math.round(difference * 100);
                if (difference > 0) {
                    savingsMessage.innerHTML = `ì „ê¸°ì°¨ë¥¼ íƒ€ë©´ **100km ì£¼í–‰ ë‹¹ ì•½ <span style="color: #27ae60; font-weight: 700;">${savings100km}ì›</span>** ì ˆì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`;
                } else if (difference < 0) {
                    savingsMessage.innerHTML = `ë‚´ì—°ê¸°ê´€ì°¨ë¥¼ íƒ€ë©´ **100km ì£¼í–‰ ë‹¹ ì•½ <span style="color: #c0392b; font-weight: 700;">${Math.abs(savings100km)}ì›</span>** ì ˆì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`;
                } else {
                    savingsMessage.innerHTML = 'ë‘ ì°¨ëŸ‰ì˜ 1kmë‹¹ ìœ ì§€ë¹„ê°€ ë™ì¼í•©ë‹ˆë‹¤.';
                }
            } else {
                savingsMessage.textContent = 'ê° ê³„ì‚°ê¸° ê°’ì„ ì…ë ¥í•˜ë©´ ì ˆì•½ ê¸ˆì•¡ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.';
            }

            // ì›”ë³„ ë¹„ìš© ë° ì ˆì•½ ê¸ˆì•¡ ê³„ì‚°
            const monthlyDistance = parseFloat(monthlyDistanceInput.value) || 0;
            if (monthlyDistance > 0 && evCostPerKm > 0 && iceCostPerKm > 0) {
                const monthlyEvCost = Math.round(evCostPerKm * monthlyDistance);
                const monthlyIceCost = Math.round(iceCostPerKm * monthlyDistance);
                const monthlySavings = Math.abs(monthlyIceCost - monthlyEvCost);

                monthlyEvCostMessage.textContent = `ì „ê¸°ì°¨: ${monthlyEvCost.toLocaleString()}ì›`;
                monthlyIceCostMessage.textContent = `ë‚´ì—°ê¸°ê´€ì°¨: ${monthlyIceCost.toLocaleString()}ì›`;

                if (monthlyEvCost < monthlyIceCost) {
                    monthlySavingsMessage.innerHTML = `ì›” **<span style="color: #27ae60;">${monthlySavings.toLocaleString()}ì›</span>** ì ˆì•½`;
                } else if (monthlyIceCost < monthlyEvCost) {
                    monthlySavingsMessage.innerHTML = `ì›” **<span style="color: #c0392b;">${monthlySavings.toLocaleString()}ì›</span>** ì ˆì•½`;
                } else {
                    monthlySavingsMessage.textContent = ''; // ë™ì¼í•  ê²½ìš° ë©”ì‹œì§€ ì œê±°
                }
            } else {
                monthlyEvCostMessage.textContent = 'ì „ê¸°ì°¨: 0ì›';
                monthlyIceCostMessage.textContent = 'ë‚´ì—°ê¸°ê´€ì°¨: 0ì›';
                monthlySavingsMessage.textContent = '';
            }
        }

        // ê° ê³„ì‚°ê¸° í•¨ìˆ˜
        function calculateEvCost() {
            const chargePrice = parseFloat(evChargePriceInput.value) || 0;
            const efficiency = parseFloat(evEfficiencyInput.value) || 0;
            const costPerKm = (efficiency > 0) ? chargePrice / efficiency : 0;
            evCostPerKmSpan.textContent = Math.round(costPerKm);
            updateComparison();
        }

        function calculateIceCost() {
            const price = parseFloat(fuelPriceInput.value) || 0;
            const efficiency = parseFloat(fuelEfficiencyInput.value) || 0;
            const costPerKm = (efficiency > 0) ? price / efficiency : 0;
            iceCostPerKmSpan.textContent = Math.round(costPerKm);
            updateComparison();
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        evChargePriceInput.addEventListener('input', calculateEvCost);
        evEfficiencyInput.addEventListener('input', calculateEvCost);
        fuelPriceInput.addEventListener('input', calculateIceCost);
        fuelEfficiencyInput.addEventListener('input', calculateIceCost);
        monthlyDistanceInput.addEventListener('input', updateComparison);

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ê³„ì‚° ì‹¤í–‰
        window.addEventListener('load', () => {
            calculateEvCost();
            calculateIceCost();
        });
    </script>
</body>

</html>